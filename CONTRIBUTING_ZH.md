# è²¢ç»æŒ‡å—

æ„Ÿè¬æ‚¨å° `line-pay-offline-v4` çš„èˆˆè¶£ï¼æˆ‘å€‘æ­¡è¿ç¤¾ç¾¤çš„è²¢ç»ã€‚

[English](./CONTRIBUTING.md) | ç¹é«”ä¸­æ–‡

## ç›®éŒ„

- [è¡Œç‚ºæº–å‰‡](#è¡Œç‚ºæº–å‰‡)
- [å¦‚ä½•è²¢ç»ï¼Ÿ](#å¦‚ä½•è²¢ç»)
- [é–‹ç™¼ç’°å¢ƒè¨­å®š](#é–‹ç™¼ç’°å¢ƒè¨­å®š)
- [é–‹ç™¼æµç¨‹](#é–‹ç™¼æµç¨‹)
- [ç¨‹å¼ç¢¼è¦ç¯„](#ç¨‹å¼ç¢¼è¦ç¯„)
- [æäº¤è¦ç¯„](#æäº¤è¦ç¯„)
- [Pull Request æµç¨‹](#pull-request-æµç¨‹)
- [æ¸¬è©¦](#æ¸¬è©¦)
- [æ–‡ä»¶](#æ–‡ä»¶)

## è¡Œç‚ºæº–å‰‡

æœ¬å°ˆæ¡ˆéµå¾ªè¡Œç‚ºæº–å‰‡ï¼Œæ‰€æœ‰è²¢ç»è€…éƒ½æ‡‰éµå®ˆã€‚è«‹åœ¨æ‰€æœ‰äº’å‹•ä¸­ä¿æŒå°Šé‡å’Œå»ºè¨­æ€§ã€‚

## å¦‚ä½•è²¢ç»ï¼Ÿ

### å›å ± Bug

åœ¨å»ºç«‹ Bug å ±å‘Šä¹‹å‰ï¼Œè«‹å…ˆæª¢æŸ¥ç¾æœ‰çš„ issues ä»¥é¿å…é‡è¤‡ã€‚å»ºç«‹ Bug å ±å‘Šæ™‚ï¼Œè«‹åŒ…å«ï¼š

- **æ¸…æ™°çš„æ¨™é¡Œ**ï¼šç°¡è¦æè¿°å•é¡Œ
- **æè¿°**ï¼šå•é¡Œçš„è©³ç´°æè¿°
- **é‡ç¾æ­¥é©Ÿ**ï¼šé€æ­¥èªªæ˜å¦‚ä½•é‡ç¾
- **é æœŸè¡Œç‚º**ï¼šæ‚¨æœŸæœ›ç™¼ç”Ÿçš„äº‹æƒ…
- **å¯¦éš›è¡Œç‚º**ï¼šå¯¦éš›ç™¼ç”Ÿçš„äº‹æƒ…
- **ç’°å¢ƒ**ï¼šä½œæ¥­ç³»çµ±ã€Node.js/Bun ç‰ˆæœ¬ã€å¥—ä»¶ç‰ˆæœ¬
- **ç¨‹å¼ç¢¼ç¯„ä¾‹**ï¼šèƒ½é‡ç¾å•é¡Œçš„æœ€å°ç¨‹å¼ç¢¼ï¼ˆå¦‚é©ç”¨ï¼‰

### å»ºè­°åŠŸèƒ½

åŠŸèƒ½å»ºè­°é€é GitHub issues è¿½è¹¤ã€‚å»ºç«‹åŠŸèƒ½å»ºè­°æ™‚ï¼š

- **ä½¿ç”¨æ¸…æ™°ä¸”æè¿°æ€§çš„æ¨™é¡Œ**
- **æä¾›è©³ç´°æè¿°**å»ºè­°çš„åŠŸèƒ½å¢å¼·
- **è§£é‡‹ç‚ºä»€éº¼é€™å€‹å¢å¼·åŠŸèƒ½æœƒæœ‰ç”¨**
- **åˆ—å‡ºæ‚¨è€ƒæ…®éçš„æ›¿ä»£æ–¹æ¡ˆ**

### Pull Requests

æˆ‘å€‘ç©æ¥µæ­¡è¿æ‚¨çš„ pull requestsï¼š

1. Fork é€™å€‹ repo ä¸¦å¾ `main` å»ºç«‹æ‚¨çš„åˆ†æ”¯
2. å¦‚æœæ‚¨æ–°å¢äº†éœ€è¦æ¸¬è©¦çš„ç¨‹å¼ç¢¼ï¼Œè«‹æ–°å¢æ¸¬è©¦
3. å¦‚æœæ‚¨æ›´æ”¹äº† APIï¼Œè«‹æ›´æ–°æ–‡ä»¶
4. ç¢ºä¿æ¸¬è©¦å¥—ä»¶é€šé
5. ç¢ºä¿æ‚¨çš„ç¨‹å¼ç¢¼éµå¾ªç¨‹å¼ç¢¼è¦ç¯„
6. æäº¤ pull request

## é–‹ç™¼ç’°å¢ƒè¨­å®š

### å…ˆæ±ºæ¢ä»¶

- [Bun](https://bun.sh/) v1.3.4 æˆ–æ›´æ–°ç‰ˆæœ¬
- [Git](https://git-scm.com/)
- ç¨‹å¼ç¢¼ç·¨è¼¯å™¨ï¼ˆæ¨è–¦ VS Codeï¼‰

### è¨­å®šæ­¥é©Ÿ

1. **Fork ä¸¦è¤‡è£½å„²å­˜åº«**

```bash
git clone https://github.com/YOUR_USERNAME/line-pay-offline-v4-node.git
cd line-pay-offline-v4-node
```

2. **å®‰è£ä¾è³´**

```bash
bun install
```

3. **åŸ·è¡Œæ¸¬è©¦ç¢ºä¿ä¸€åˆ‡æ­£å¸¸**

```bash
bun test
```

## é–‹ç™¼æµç¨‹

### 1. å»ºç«‹åŠŸèƒ½åˆ†æ”¯

```bash
git checkout -b feature/your-feature-name
# æˆ–
git checkout -b fix/your-bug-fix
```

### 2. é€²è¡Œä¿®æ”¹

- æ’°å¯«ä¹¾æ·¨ã€å¯è®€çš„ç¨‹å¼ç¢¼
- éµå¾ªç¨‹å¼ç¢¼è¦ç¯„
- ç‚ºæ–°åŠŸèƒ½æ–°å¢æ¸¬è©¦
- è¦–éœ€è¦æ›´æ–°æ–‡ä»¶

### 3. æ¸¬è©¦æ‚¨çš„ä¿®æ”¹

```bash
# åŸ·è¡Œå‹åˆ¥æª¢æŸ¥
bun run typecheck

# åŸ·è¡Œ linting
bun run check

# åŸ·è¡Œæ¸¬è©¦
bun test

# åŸ·è¡Œæ¸¬è©¦ä¸¦ç”¢ç”Ÿè¦†è“‹ç‡å ±å‘Š
bun run test:coverage

# å»ºç½®å°ˆæ¡ˆ
bun run build
```

### 4. æäº¤æ‚¨çš„ä¿®æ”¹

```bash
git add .
git commit -m "type: description"
```

è«‹åƒé–±[æäº¤è¦ç¯„](#æäº¤è¦ç¯„)äº†è§£æäº¤è¨Šæ¯æ ¼å¼ã€‚

### 5. æ¨é€ä¸¦å»ºç«‹ Pull Request

```bash
git push origin feature/your-feature-name
```

ç„¶å¾Œåœ¨ GitHub ä¸Šå»ºç«‹ Pull Requestã€‚

## ç¨‹å¼ç¢¼è¦ç¯„

### TypeScript

- æ‰€æœ‰åŸå§‹ç¢¼ä½¿ç”¨ TypeScript
- å•Ÿç”¨åš´æ ¼æ¨¡å¼
- é¿å…ä½¿ç”¨ `any` å‹åˆ¥
- ä½¿ç”¨ JSDoc è¨»è§£è¨˜éŒ„å…¬é–‹ API

### ç¨‹å¼ç¢¼é¢¨æ ¼

æˆ‘å€‘ä½¿ç”¨ Biome é€²è¡Œæ ¼å¼åŒ–å’Œ lintingã€‚éµå¾ªä»¥ä¸‹æ…£ä¾‹ï¼š

- **ç¸®æ’**ï¼š2 å€‹ç©ºæ ¼ï¼ˆç”± Biome è™•ç†ï¼‰
- **åˆ†è™Ÿ**ï¼šä¸éœ€è¦ï¼ˆå·²åœ¨å°ˆæ¡ˆä¸­è¨­å®šï¼‰
- **å¼•è™Ÿ**ï¼šå­—ä¸²ä½¿ç”¨å–®å¼•è™Ÿ
- **å‘½åæ…£ä¾‹**ï¼š
  - `PascalCase` ç”¨æ–¼é¡åˆ¥å’Œå‹åˆ¥
  - `camelCase` ç”¨æ–¼å‡½å¼å’Œè®Šæ•¸
  - `UPPER_CASE` ç”¨æ–¼å¸¸æ•¸

### ç¯„ä¾‹

```typescript
/**
 * é©—è­‰ LINE Pay äº¤æ˜“ ID
 * @param transactionId - è¦é©—è­‰çš„äº¤æ˜“ ID
 * @throws {LinePayValidationError} ç•¶æ ¼å¼ç„¡æ•ˆæ™‚
 */
export function validateTransactionId(transactionId: string): void {
  if (!TRANSACTION_ID_REGEX.test(transactionId)) {
    throw new LinePayValidationError(
      `Invalid transactionId format: expected 19-digit number, got "${transactionId}"`
    )
  }
}
```

## æäº¤è¦ç¯„

æˆ‘å€‘éµå¾ª [Conventional Commits](https://www.conventionalcommits.org/) è¦ç¯„ã€‚

### æäº¤è¨Šæ¯æ ¼å¼

```
<type>(<scope>): <subject>

<body>

<footer>
```

### å‹åˆ¥

- **feat**ï¼šæ–°åŠŸèƒ½
- **fix**ï¼šBug ä¿®å¾©
- **docs**ï¼šåƒ…æ–‡ä»¶è®Šæ›´
- **style**ï¼šç¨‹å¼ç¢¼é¢¨æ ¼è®Šæ›´ï¼ˆæ ¼å¼åŒ–ã€åˆ†è™Ÿç­‰ï¼‰
- **refactor**ï¼šç¨‹å¼ç¢¼é‡æ§‹ï¼ˆæ—¢ä¸ä¿®å¾© bug ä¹Ÿä¸æ–°å¢åŠŸèƒ½ï¼‰
- **perf**ï¼šæ•ˆèƒ½æ”¹é€²
- **test**ï¼šæ–°å¢æˆ–æ›´æ–°æ¸¬è©¦
- **chore**ï¼šå»ºç½®æµç¨‹æˆ–è¼”åŠ©å·¥å…·çš„è®Šæ›´

### ç¯„ä¾‹

```bash
# åŠŸèƒ½
git commit -m "feat: æ–°å¢ä»˜æ¬¾ç‹€æ…‹è¼ªè©¢å·¥å…·"

# Bug ä¿®å¾©
git commit -m "fix: ä¿®æ­£é€€æ¬¾è«‹æ±‚ä¸­çš„ orderId URL ç·¨ç¢¼"

# æ–‡ä»¶
git commit -m "docs: æ›´æ–° checkPaymentStatus çš„ API åƒè€ƒ"

# é‡æ§‹
git commit -m "refactor: å°‡è£ç½®æ¨™é ­æå–ç‚ºç¨ç«‹æ–¹æ³•"
```

## Pull Request æµç¨‹

1. **æ›´æ–°æ–‡ä»¶**ï¼šç¢ºä¿ README å·²æ›´æ–°
2. **æ–°å¢æ¸¬è©¦**ï¼šæ‰€æœ‰æ–°åŠŸèƒ½å¿…é ˆåŒ…å«æ¸¬è©¦
3. **é€šéæ‰€æœ‰æª¢æŸ¥**ï¼šç¢ºä¿å‹åˆ¥æª¢æŸ¥ã€lintingã€æ¸¬è©¦å’Œå»ºç½®é€šé
4. **æ¸…ç†æäº¤æ­·å²**ï¼šè¦–éœ€è¦ squash æˆ– rebase
5. **åƒè€ƒ Issues**ï¼šåœ¨ PR æè¿°ä¸­é€£çµç›¸é—œ issues
6. **è«‹æ±‚å¯©æŸ¥**ï¼šæ¨™è¨˜ç¶­è­·è€…é€²è¡Œå¯©æŸ¥

### PR æ¨™é¡Œæ ¼å¼

éµå¾ªèˆ‡æäº¤è¨Šæ¯ç›¸åŒçš„æ ¼å¼ï¼š

```
feat: æ–°å¢ç”¨æ–¼è§£æçš„å·¥å…·å‡½å¼
fix: è§£æ±ºé€¾æ™‚éŒ¯èª¤è™•ç†
docs: æ”¹é€² README ç¯„ä¾‹
```

## æ¸¬è©¦

### æ’°å¯«æ¸¬è©¦

- å°‡æ¸¬è©¦æ”¾åœ¨ `tests/*.test.ts` æª”æ¡ˆä¸­
- ä½¿ç”¨ Bun çš„æ¸¬è©¦åŸ·è¡Œå™¨
- ç›®æ¨™é”åˆ°é«˜ç¨‹å¼ç¢¼è¦†è“‹ç‡ï¼ˆ100% ç›®æ¨™ï¼‰
- æ¸¬è©¦é‚Šç•Œæƒ…æ³å’ŒéŒ¯èª¤æ¢ä»¶

### æ¸¬è©¦ç¯„ä¾‹

```typescript
import { describe, expect, test } from 'bun:test'
import { LinePayOfflineClient } from '../src'

describe('LinePayOfflineClient', () => {
  describe('checkPaymentStatus', () => {
    test('should call API with correct URL', async () => {
      // æ¸¬è©¦å¯¦ä½œ
    })
    
    test('should URL encode special characters', async () => {
      // æ¸¬è©¦å¯¦ä½œ
    })
  })
})
```

### åŸ·è¡Œæ¸¬è©¦

```bash
# åŸ·è¡Œæ‰€æœ‰æ¸¬è©¦
bun test

# ä»¥ç›£çœ‹æ¨¡å¼åŸ·è¡Œæ¸¬è©¦
bun test --watch

# åŸ·è¡Œæ¸¬è©¦ä¸¦ç”¢ç”Ÿè¦†è“‹ç‡
bun run test:coverage

# åŸ·è¡Œç‰¹å®šæ¸¬è©¦æª”æ¡ˆ
bun test tests/LinePayOfflineClient.test.ts
```

## æ–‡ä»¶

### README æ›´æ–°

- ä¿æŒ README.md èˆ‡æ‰€æœ‰åŠŸèƒ½åŒæ­¥
- ç‚ºæ–°åŠŸèƒ½åŒ…å«ç¨‹å¼ç¢¼ç¯„ä¾‹
- æ›´æ–° API åƒè€ƒå€æ®µ

### ç¨‹å¼ç¢¼æ–‡ä»¶

- ä½¿ç”¨ JSDoc è¨˜éŒ„å…¬é–‹ API
- è¨˜éŒ„åƒæ•¸ã€å›å‚³å‹åˆ¥å’Œä¾‹å¤–
- åœ¨è¨»è§£ä¸­åŒ…å«ä½¿ç”¨ç¯„ä¾‹

### ç¯„ä¾‹

```typescript
/**
 * ä½¿ç”¨å®¢æˆ¶çš„ä¸€æ¬¡æ€§æ¢ç¢¼è«‹æ±‚ä»˜æ¬¾
 * 
 * @param request - ä»˜æ¬¾è«‹æ±‚è³‡æ–™
 * @returns åŒ…å«äº¤æ˜“ ID çš„ä»˜æ¬¾å›æ‡‰
 * 
 * @example
 * ```typescript
 * const payment = await client.requestPayment({
 *   amount: 100,
 *   currency: 'TWD',
 *   oneTimeKey: '12345678901245678',
 *   orderId: 'ORDER-001'
 * })
 * ```
 */
async requestPayment(request: PaymentRequest): Promise<PaymentResponse> {
  // å¯¦ä½œ
}
```

## å•é¡Œï¼Ÿ

å¦‚æœæ‚¨å°è²¢ç»æœ‰ä»»ä½•å•é¡Œï¼Œæ­¡è¿ï¼š

- é–‹å•Ÿ [GitHub Issue](https://github.com/CarlLee1983/line-pay-offline-v4-node/issues/new)
- å»ºç«‹å¸¶æœ‰ã€Œquestionã€æ¨™ç±¤çš„ issue

## æˆæ¬Š

æäº¤è²¢ç»å³è¡¨ç¤ºæ‚¨åŒæ„æ‚¨çš„è²¢ç»å°‡ä»¥ MIT æˆæ¬Šæ¢æ¬¾æˆæ¬Šã€‚

---

æ„Ÿè¬æ‚¨å° `line-pay-offline-v4` çš„è²¢ç»ï¼ğŸ‰
